# banjiao.nvim

盘古之白, 但是半角.

我所使用的配置:
```lua
return {
  {
    "jinpeng-s/banjiao.nvim",
    lazy = false,
    opts = function(_, _)
      local chinese_pattern = "[\\u4e00-\\u9fa5\\u3040-\\u30FF]"
      local alpha_numeric_pattern = "[a-zA-Z0-9]"
      local pattern_with_space = "[,;.:?!]"
      local zero_width_whitespace = "[\\u200c\\u200b\\u200d\\u202c\\u2060\\u2061\\u2062\\u2063\\u2064\\ufeff]"

      local user_config = {

        event = {
          "BufRead",
          "BufWrite",
          "InsertLeave",
        },

        ft = {
          "*.md",
          "*.norg",
          "*.tex",
          "*.typ",
        },

        regex = {

          --------------------
          -- 全角标点符号
          --------------------

          ----------
          -- Numbers
          ----------

          { "０", "0" },
          { "１", "1" },
          { "２", "2" },
          { "３", "3" },
          { "４", "4" },
          { "５", "5" },
          { "６", "6" },
          { "７", "7" },
          { "８", "8" },
          { "９", "9" },

          ----------
          -- Alphabets
          ----------

          { "Ａ", "A" },
          { "Ｂ", "B" },
          { "Ｃ", "C" },
          { "Ｄ", "D" },
          { "Ｅ", "E" },
          { "Ｆ", "F" },
          { "Ｇ", "G" },
          { "Ｈ", "H" },
          { "Ｉ", "I" },
          { "Ｊ", "J" },
          { "Ｋ", "K" },
          { "Ｌ", "L" },
          { "Ｍ", "M" },
          { "Ｎ", "N" },
          { "Ｏ", "O" },
          { "Ｐ", "P" },
          { "Ｑ", "Q" },
          { "Ｒ", "R" },
          { "Ｓ", "S" },
          { "Ｔ", "T" },
          { "Ｕ", "U" },
          { "Ｖ", "V" },
          { "Ｗ", "W" },
          { "Ｘ", "X" },
          { "Ｙ", "Y" },
          { "Ｚ", "Z" },

          { "ａ", "a" },
          { "ｂ", "b" },
          { "ｃ", "c" },
          { "ｄ", "d" },
          { "ｅ", "e" },
          { "ｆ", "f" },
          { "ｇ", "g" },
          { "ｈ", "h" },
          { "ｉ", "i" },
          { "ｊ", "j" },
          { "ｋ", "k" },
          { "ｌ", "l" },
          { "ｍ", "m" },
          { "ｎ", "n" },
          { "ｏ", "o" },
          { "ｐ", "p" },
          { "ｑ", "q" },
          { "ｒ", "r" },
          { "ｓ", "s" },
          { "ｔ", "t" },
          { "ｕ", "u" },
          { "ｖ", "v" },
          { "ｗ", "w" },
          { "ｘ", "x" },
          { "ｙ", "y" },
          { "ｚ", "z" },

          ----------
          -- Symbols
          ----------

          -- 需要在其后添加空格
          { "，", ", " },
          { "；", "; " },
          { "．", ". " },
          { "。", ". " },
          { "：", ": " },
          { "！", "! " },
          { "？", "? " },

          -- 需要在其前或其后添加空格
          { "＜", " <" },
          { "＞", "> " },
          { "（", " (" },
          { "）", ") " },
          { "［", " [" },
          { "］", "] " },
          { "｛", " {" },
          { "｝", "} " },
          { "【", " [" },
          { "】", "] " },
          { "『", " [" },
          { "』", "] " },
          { "「", " [" },
          { "」", "] " },
          { "《", " <" },
          { "》", "> " },
          { "〈", " <" },
          { "〉", "> " },

          -- NOTE: 需要在其前和其后添加空格吗?
          { "＋", " + " },
          { "－", " - " },
          { "＊", " * " },
          { "／", " / " },
          { "＝", " = " },

          -- 无需在其前和后添加空格
          { "　", " " },
          { "｜", "|" },
          { "＆", "&" },
          { "＿", "_" },

          { "＾", "^" },
          { "＄", "$" },
          { "＃", "#" },
          { "＠", "@" },

          { "％", "%" },
          { "～", "~" },
          { "｀", "`" },
          { "＼", "\\" },

          -- NOTE: 处理规则需要调整
          { "＇", "'" },
          { "＂", '"' },

          -- NOTE: 需要转换这些半角标点符号吗?
          { "…", "..." },
          { "……", "..." },
          -- { "‘", " '" },
          -- { "’", "' " },
          -- { "“", ' "' },
          -- { "”", '" ' },

          --------------------
          -- 盘古之白
          --------------------

          ----------
          -- 在中文和英文之间加空格
          ----------

          -- "英文中文" -> "英文 中文"
          {
            -- stylua: ignore
            "\\v"
              .. "(" .. alpha_numeric_pattern .. ")"
              .. "(" .. chinese_pattern .. ")",
            "\\1 \\2",
          },

          -- "中文英文" -> "中文 英文"
          {
            -- stylua: ignore
            "\\v"
              .. "(" .. chinese_pattern .. ")"
              .. "(" .. alpha_numeric_pattern .. ")",
            "\\1 \\2",
          },

          ----------
          -- TODO: 在括号前后加空格
          ----------

          ----------
          -- 在标点后加空格
          ----------

          -- "中文.中文" -> "中文. 中文"
          {
            -- stylua: ignore
            "\\v"
              .. "(" .. chinese_pattern .. ")"
              .. "(" .. pattern_with_space .. ")"
              .. "(" .. chinese_pattern .. ")",
            "\\1\\2 \\3",
          },

          -- "中文.英文" -> "中文. 英文"
          {
            -- stylua: ignore
            "\\v"
              .. "(" .. chinese_pattern .. ")"
              .. "(" .. pattern_with_space .. ")"
              .. "(" .. alpha_numeric_pattern .. ")",
            "\\1\\2 \\3",
          },

          -- "英文.中文" -> "英文. 中文"
          {
            -- stylua: ignore
            "\\v"
              .. "(" .. alpha_numeric_pattern .. ")"
              .. "(" .. pattern_with_space .. ")"
              .. "(" .. chinese_pattern .. ")",
            "\\1\\2 \\3",
          },

          --------------------
          -- 其他
          --------------------

          ----------
          -- 移除零宽空格
          ----------

          {
            -- stylua: ignore
            "\\v"
              .. "(" .. zero_width_whitespace .. ")",
            "",
          },

          ----------
          -- 移除行尾空格
          ----------

          {
            -- stylua: ignore
            "\\v"
              .. " +$",
            "",
          },

          ----------
          -- 移除重复空格
          ----------

          {
            -- stylua: ignore
            "\\v"
              .. " {2,}",
            " ",
          },
        },
      }

      return user_config
    end,
  },
}```
